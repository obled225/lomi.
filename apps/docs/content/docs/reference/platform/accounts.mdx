---
title: Accounts
description: Manage merchant accounts and check balances.
---

import { Tabs, Tab } from 'fumadocs-ui/components/tabs';

The Accounts API provides access to your merchant account information and balance details.

## List accounts

Retrieve all accounts associated with your organization.

<Tabs items={["TypeScript", "Python", "cURL"]}>

<Tab value="TypeScript">
```typescript
import { LomiSDK } from '@lomi./sdk';

const lomi = new LomiSDK({
  apiKey: process.env.LOMI_API_KEY!,
  environment: 'test',
});

const accounts = await lomi.accounts.list();
accounts.forEach(account => {
  console.log(`${account.name}: ${account.id}`);
});
```
</Tab>

<Tab value="Python">
```python
from lomi import LomiClient
import os

client = LomiClient(
    api_key=os.environ["LOMI_API_KEY"],
    environment="test"
)

accounts = client.accounts.list()
for account in accounts:
    print(f"{account['name']}: {account['id']}")
```
</Tab>

<Tab value="cURL">
```bash
curl -X GET "https://api.lomi.africa/accounts" \
  -H "X-API-KEY: $LOMI_API_KEY"
```
</Tab>

</Tabs>

---

## Get account by ID

Retrieve details of a specific account.

<Tabs items={["TypeScript", "Python", "cURL"]}>

<Tab value="TypeScript">
```typescript
const account = await lomi.accounts.get('acc_abc123...');
```
</Tab>

<Tab value="Python">
```python
account = client.accounts.get('acc_abc123...')
```
</Tab>

<Tab value="cURL">
```bash
curl -X GET "https://api.lomi.africa/accounts/acc_abc123..." \
  -H "X-API-KEY: $LOMI_API_KEY"
```
</Tab>

</Tabs>

---

## Get account balance

Fetch current account balance for all currencies or a specific currency.

### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `currency` | `string` | Filter by currency: `XOF`, `USD`, `EUR` |

<Tabs items={["TypeScript", "Python", "cURL"]}>

<Tab value="TypeScript">
```typescript
// All currencies
const balances = await lomi.accounts.getBalance();

// Specific currency
const xofBalance = await lomi.accounts.getBalance({ currency: 'XOF' });

console.log(`Available: ${xofBalance.available}`);
console.log(`Pending: ${xofBalance.pending}`);
```
</Tab>

<Tab value="Python">
```python
# All currencies
balances = client.accounts.get_balance()

# Specific currency
xof_balance = client.accounts.get_balance(currency="XOF")
print(f"Available: {xof_balance['available']}")
```
</Tab>

<Tab value="cURL">
```bash
# All currencies
curl -X GET "https://api.lomi.africa/accounts/balance" \
  -H "X-API-KEY: $LOMI_API_KEY"

# Specific currency
curl -X GET "https://api.lomi.africa/accounts/balance?currency=XOF" \
  -H "X-API-KEY: $LOMI_API_KEY"
```
</Tab>

</Tabs>

---

## Get detailed balance breakdown

Fetch detailed balance breakdown with optional currency conversion.

### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `target_currency` | `string` | Convert all balances to this currency |

<Tabs items={["TypeScript", "Python", "cURL"]}>

<Tab value="TypeScript">
```typescript
// Get breakdown
const breakdown = await lomi.accounts.getBalanceBreakdown();

// With currency conversion
const convertedBreakdown = await lomi.accounts.getBalanceBreakdown({
  target_currency: 'USD',
});

console.log(`Total in USD: ${convertedBreakdown.total}`);
```
</Tab>

<Tab value="Python">
```python
breakdown = client.accounts.get_balance_breakdown(target_currency="USD")
print(f"Total in USD: {breakdown['total']}")
```
</Tab>

<Tab value="cURL">
```bash
curl -X GET "https://api.lomi.africa/accounts/balance/breakdown?target_currency=USD" \
  -H "X-API-KEY: $LOMI_API_KEY"
```
</Tab>

</Tabs>

---

## Check available balance

Check if you have sufficient balance in a specific currency.

<Tabs items={["TypeScript", "Python", "cURL"]}>

<Tab value="TypeScript">
```typescript
const check = await lomi.accounts.checkBalance('XOF');

if (check.has_sufficient_balance) {
  console.log(`Available: ${check.available_balance} XOF`);
} else {
  console.log('Insufficient balance');
}
```
</Tab>

<Tab value="Python">
```python
check = client.accounts.check_balance("XOF")
print(f"Has balance: {check['has_sufficient_balance']}")
print(f"Available: {check['available_balance']}")
```
</Tab>

<Tab value="cURL">
```bash
curl -X GET "https://api.lomi.africa/accounts/balance/check/XOF" \
  -H "X-API-KEY: $LOMI_API_KEY"
```
</Tab>

</Tabs>

### Response

```json
{
  "has_sufficient_balance": true,
  "available_balance": 500000
}
```

---

## Account Object

| Field | Type | Description |
|-------|------|-------------|
| `id` | `string` | Unique account identifier |
| `organization_id` | `string` | Associated organization |
| `name` | `string` | Account name |
| `currency_code` | `string` | Primary currency |
| `created_at` | `string` | Creation timestamp |

---

## Balance Object

| Field | Type | Description |
|-------|------|-------------|
| `available` | `number` | Available for withdrawal |
| `pending` | `number` | Pending settlement |
| `total` | `number` | Total balance |
| `currency_code` | `string` | Currency code |

---

## Error Responses

| Status | Description |
|--------|-------------|
| `401` | Invalid or missing API key |
| `404` | Account not found |
